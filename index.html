<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>StudySum – Lecture Summarizer</title>
  <meta name="description" content="Turn lectures into study notes instantly.">

  <style>
    :root {
      --bg: #f0f7ff;
      --text: #1a1a1a;
      --accent: #4A90E2;
      --card-bg: #ffffff;
      --border: #d0e0f0;
      --blue-tint: #e6f0fb;
    }

    [data-theme="dark"] {
      --bg: #121212;
      --text: #f9f9f9;
      --card-bg: #1e1e1e;
      --accent: #5F50F0;
    }

    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background: var(--bg);
      color: var(--text);
      transition: background 0.3s, color 0.3s;
    }

    .container {
      max-width: 800px;
      margin: 2rem auto;
      padding: 2rem;
      background: var(--card-bg);
      border-radius: 12px;
      box-shadow: 0 0 20px rgba(0,0,0,0.05);
      border: 1px solid var(--border);
    }

    h1 {
      color: var(--accent);
      margin-bottom: 0.5rem;
    }

    textarea {
      width: 100%;
      height: 200px;
      padding: 1rem;
      border: 1px solid var(--border);
      border-radius: 8px;
      resize: vertical;
      font-family: inherit;
    }

    button {
      background-color: var(--accent);
      color: white;
      border: none;
      padding: 0.75rem 1.5rem;
      border-radius: 6px;
      cursor: pointer;
      margin-top: 1rem;
      font-size: 1rem;
    }

    button:hover {
      opacity: 0.9;
    }

    #summary {
      margin-top: 2rem;
      padding: 1.5rem;
      background: var(--blue-tint);
      border-radius: 8px;
      line-height: 1.6;
    }

    .loading {
      display: inline-block;
      width: 20px;
      height: 20px;
      border: 3px solid rgba(255,255,255,.3);
      border-radius: 50%;
      border-top-color: white;
      animation: spin 1s ease-in-out infinite;
      margin-right: 10px;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    .toast {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: var(--accent);
      color: white;
      padding: 12px 24px;
      border-radius: 4px;
      z-index: 1000;
      animation: fadeInOut 3s;
    }

    @keyframes fadeInOut {
      0% { opacity: 0; }
      20% { opacity: 1; }
      80% { opacity: 1; }
      100% { opacity: 0; }
    }
  </style>
</head>
<body data-theme="light">
  <div class="container">
    <h1>Lecture Summarizer</h1>
    <p>Paste your lecture content below to generate a concise summary</p>
    
    <textarea id="lectureText" placeholder="Paste your lecture transcript here..."></textarea>
    <br>
    <button id="summarizeBtn">Summarize</button>
    
    <div id="summary" style="display: none;">
      <h3>Summary</h3>
      <div id="summaryContent"></div>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const summarizeBtn = document.getElementById('summarizeBtn');
      const lectureText = document.getElementById('lectureText');
      const summaryDiv = document.getElementById('summary');
      const summaryContent = document.getElementById('summaryContent');

      summarizeBtn.addEventListener('click', function() {
        const text = lectureText.value.trim();
        
        if (!text) {
          showToast('Please enter some lecture content first');
          return;
        }

        // Show loading state
        summarizeBtn.disabled = true;
        summarizeBtn.innerHTML = '<span class="loading"></span> Processing...';
        summaryDiv.style.display = 'none';

        // Process the text (simple client-side summarization)
        setTimeout(() => {
          try {
            const summary = summarizeText(text);
            summaryContent.innerHTML = formatSummary(summary);
            summaryDiv.style.display = 'block';
            showToast('Summary generated successfully!');
          } catch (error) {
            console.error('Summarization error:', error);
            showToast('Error generating summary');
          } finally {
            summarizeBtn.disabled = false;
            summarizeBtn.textContent = 'Summarize';
          }
        }, 1000);
      });

      function summarizeText(text) {
        // Simple summarization algorithm:
        // 1. Split into sentences
        // 2. Score sentences by length (mid-length sentences tend to be most important)
        // 3. Select top sentences
        
        const sentences = text.split(/[.!?]+/).filter(s => s.trim().length > 0);
        
        if (sentences.length <= 5) {
          // If text is already short, just return it with bullet points
          return sentences.map(s => `• ${s.trim()}`).join('\n');
        }
        
        // Score sentences (middle sentences get higher scores)
        const scored = sentences.map((sentence, index) => {
          const lengthScore = Math.min(1, sentence.length / 100); // Normalize length
          const positionScore = 1 - Math.abs(0.5 - (index / sentences.length)) * 2;
          return {
            text: sentence.trim(),
            score: lengthScore + positionScore
          };
        });
        
        // Sort by score and take top 30%
        const topSentences = scored.sort((a, b) => b.score - a.score)
                                  .slice(0, Math.max(3, Math.floor(sentences.length * 0.3)));
        
        // Return as bullet points
        return topSentences.map(item => `• ${item.text}`).join('\n');
      }

      function formatSummary(summary) {
        // Add some basic formatting
        return `<div style="white-space: pre-wrap;">${summary}</div>`;
      }

      function showToast(message) {
        const toast = document.createElement('div');
        toast.className = 'toast';
        toast.textContent = message;
        document.body.appendChild(toast);
        
        setTimeout(() => {
          toast.remove();
        }, 3000);
      }
    });
  </script>
</body>
</html>
